
@{
    ViewData["Title"] = "Create ShowCards";
}


<div class="text-center">
    <h1 class="display-4">Here is the Make a Connection page</h1>

    <h3>@ViewBag.Message </h3>

    <form>
        <label for="show">Choose a show</label>
        <select id="show" name="showID" required>
            <option></option>
            @foreach (Show show in ViewBag.AllShows)
            {
                <option value="@show.ShowID">@show.Title</option>
            }

        </select>
        <label for="watcher">Choose a Watcher</label>
        <select id="watcher" name="watcherID" required>
            <option></option>
            @foreach (Watcher watcher in ViewBag.AllWatchers)
            {
                <option value="@watcher.WatcherID">@watcher.Name</option>
            }
        </select>
        <button type="submit" formaction=@Url.Action("CreateCard") formmethod="post">Select</button>
    </form>
    @if (ViewBag.SelectedShow.Title != null && ViewBag.SelectedWatcher.Name != null)
    {
        <form>
            <div>


                @if (ViewBag.Seasons != null)
                {
                    <label for="season">What Season are you on?</label>
                    <select id="season" name="seasonID" required>
                        <option></option>
                        @foreach (ShowSeason seasons in ViewBag.Seasons)
                        {
                            <option value="@seasons.ShowSeasonID">@seasons.IndividualSeason</option>

                        }
                    </select>
                    <input hidden name="showID" value="@ViewBag.SelectedShow.ShowID">
                    <input hidden name="watcherID" value="@ViewBag.SelectedWatcher.WatcherID">
                    <button type="submit" formaction=@Url.Action("CreateCard") formmethod="post">Select</button>
                }
            </div>
        </form>
    }
    @if (ViewBag.SelectedSeason.IndividualSeason != 0)
    {
        <form>
            <label for="episodes">What Episode are you on?</label>
            <select id="episode" name="episode" required>
                <option></option>
                @for (int i = 0; i < ViewBag.SelectedSeason.SeasonEpisodes; i++)
                {
                    <option value="@i">@i</option>
                }
            </select>
            <input hidden name="showID" value="@ViewBag.SelectedShow.ShowID">
            <input hidden name="seasonID" value="@ViewBag.SelectedSeason.ShowSeasonID">
            <input hidden name="watcherID" value="@ViewBag.SelectedWatcher.WatcherID">

            <button type="submit" formaction=@Url.Action("CreateCard") formmethod="post">Select</button>
        </form>
    }

<dl>
    <dt>Show</dt>
    <dd>@ViewBag.SelectedShow.Title</dd>
    <dt>Watcher</dt>
    <dd>@ViewBag.SelectedWatcher.Name</dd>
    <dt>Season</dt>
    @if (ViewBag.SelectedSeason.IndividualSeason != 0)
    {
        <dd>@ViewBag.SelectedSeason.IndividualSeason</dd>
    }
    <dt>Episode</dt>
    @if (ViewBag.Episode != 0)
    {
        <dd>@ViewBag.Episode</dd>
    }
</dl>

<form>
   <p> <label for="showID">Show</label>
    <input readonly="readonly" name="showID" value="@ViewBag.SelectedShow.ShowID">
    </p>
    <label for="watcherID">Watcher</label>
    <input readonly="readonly" name="watcherID" value="@ViewBag.SelectedWatcher.WatcherID">
    <label for="seasonID">Seasons</label>
    <input readonly="readonly" name="seasonID" value="@ViewBag.SelectedSeason.IndividualSeason">
    <label for="episode">Episode</label>
    <input readonly="readonly" name="episode" value="@ViewBag.Episode">
    <button type="submit" formaction=@Url.Action("Connect") formmethod="post">Let's Watch</button>

</form>

    

    </div>